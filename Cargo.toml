[workspace]
members = [
    # core
    "facet-core",
    "facet",

    # derive macro
    "facet-macros-impl",
    "facet-macros",

    # macro ecosystem (plugin support)
    "facet-macro-types",
    "facet-macro-template",

    # reflection
    "facet-reflect",

    # constraint solver
    "facet-solver",

    # test helpers
    "facet-testhelpers",
    "facet-testhelpers-macros",

    # pretty printing
    "facet-pretty",

    # format crates
    "facet-json",
    "facet-kdl",
    "facet-xml",
    "facet-yaml",
    "facet-toml",
    "facet-args",
    "facet-msgpack",
    "facet-postcard",
    "facet-urlencoded",
    "facet-csv",
    "facet-xdr",
    "facet-asn1",

    # web framework integrations
    "facet-axum",

    # utilities
    "facet-diff",
    "facet-assert",
    "facet-value",
    "facet-singularize",

    # showcase infrastructure
    "facet-showcase",

    # dev tooling
    "facet-bloatbench",
    "xtask",

    "facet-shapelike"
]
exclude = [
    # proto-attr experiment uses nightly features
    "proto-attr",
]
resolver = "3"

[workspace.package]
version = "0.1.0"
edition = "2024"
rust-version = "1.88.0"
license = "MIT OR Apache-2.0"
repository = "https://github.com/facet-rs/facet"

[workspace.dependencies]
# proto-attr workspace dependencies
proto-attr-core = { path = "proto-attr/crates/proto-attr-core" }
proto-attr-macros = { path = "proto-attr/crates/proto-attr-macros" }
proto-attr = { path = "proto-attr/crates/proto-attr" }
proto-ext = { path = "proto-attr/crates/proto-ext" }
proc-macro2 = "1"
quote = "1"
syn = { version = "2", features = ["full", "parsing", "printing"] }
strsim = "0.11"

# Fuzzing profile for cargo-bolero
[profile.fuzz]
inherits = "dev"
opt-level = 3
incremental = false
codegen-units = 1
