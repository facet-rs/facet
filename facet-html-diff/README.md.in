# facet-html-diff

Diff two HTML documents and produce a series of DOM patches to morph one into the other in a browser.

## Purpose

Given HTML documents A and B, this crate computes the minimal set of DOM operations needed to transform A into B. The patches can be serialized and sent to a browser, where they can be applied incrementally without replacing the entire document.

This enables efficient live-reloading and hot-updating of web pages.

## Example

```rust
use facet_html_diff::{diff_html, Patch, NodePath};

let old = "<html><body><p>Hello</p></body></html>";
let new = "<html><body><p>Goodbye</p></body></html>";

let patches = diff_html(old, new).unwrap();
// patches contains SetText operations to update "Hello" -> "Goodbye"
```

## Patch Types

- `Replace` - Replace a node with new HTML
- `ReplaceInnerHtml` - Replace all children of a node
- `InsertBefore` / `InsertAfter` - Insert HTML relative to a node
- `AppendChild` - Append HTML as last child
- `Remove` - Remove a node
- `SetText` - Update text content
- `SetAttribute` / `RemoveAttribute` - Modify attributes
- `Move` - Move a node from one location to another

## How It Works

1. Parse both HTML documents using `facet-html`
2. Compute structural diff using `facet-diff` (GumTree/Chawathe algorithm)
3. Translate the edit operations into DOM-specific patches
4. Patches reference nodes by path (e.g., `[0, 2, 1]` = body's child 0, then child 2, then child 1)
