<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.0.4 (20251115.1723)
 -->
<!-- Title: grammar_definition_3rdparty Pages: 1 -->
<svg width="1121pt" height="538pt"
 viewBox="0.00 0.00 1121.00 538.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 533.75)">
<title>grammar_definition_3rdparty</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-533.75 1116.5,-533.75 1116.5,4 -4,4"/>
<text xml:space="preserve" text-anchor="middle" x="556.25" y="-506.75" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="20.00">Grammar Definition Time (Third&#45;Party Crate)</text>
<!-- grammar -->
<g id="node1" class="node">
<title>grammar</title>
<polygon fill="#fff8f0" stroke="black" points="242.75,-391.25 0,-391.25 0,-109.5 242.75,-109.5 242.75,-391.25"/>
<polygon fill="#ffe4c4" stroke="none" points="8,-369 8,-387.25 234.75,-387.25 234.75,-369 8,-369"/>
<text xml:space="preserve" text-anchor="start" x="10" y="-375.8" font-family="Monaco, Consolas, Courier" font-weight="bold" font-size="11.00">Input: facet&#45;kdl/src/lib.rs</text>
<text xml:space="preserve" text-anchor="start" x="10" y="-357.55" font-family="Monaco" font-size="11.00">::facet::</text>
<text xml:space="preserve" text-anchor="start" x="70.75" y="-357.55" font-family="Monaco" font-size="11.00" fill="#8250df">define_attributes!</text>
<text xml:space="preserve" text-anchor="start" x="192.25" y="-357.55" font-family="Monaco" font-size="11.00"> {</text>
<text xml:space="preserve" text-anchor="start" x="10" y="-339.3" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="37" y="-339.3" font-family="Monaco" font-size="11.00" fill="#cf222e">mod</text>
<text xml:space="preserve" text-anchor="start" x="57.25" y="-339.3" font-family="Monaco" font-size="11.00"> </text>
<text xml:space="preserve" text-anchor="start" x="64" y="-339.3" font-family="Monaco" font-size="11.00" fill="#0550ae">attrs</text>
<text xml:space="preserve" text-anchor="start" x="97.75" y="-339.3" font-family="Monaco" font-size="11.00">;</text>
<text xml:space="preserve" text-anchor="start" x="10" y="-321.05" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="37" y="-321.05" font-family="Monaco" font-size="11.00" fill="#6e7781">// Two enums: one per target</text>
<text xml:space="preserve" text-anchor="start" x="10" y="-302.8" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="37" y="-302.8" font-family="Monaco" font-size="11.00" fill="#cf222e">pub enum</text>
<text xml:space="preserve" text-anchor="start" x="91" y="-302.8" font-family="Monaco" font-size="11.00"> </text>
<text xml:space="preserve" text-anchor="start" x="97.75" y="-302.8" font-family="Monaco" font-size="11.00" fill="#0550ae">ContainerAttribute</text>
<text xml:space="preserve" text-anchor="start" x="219.25" y="-302.8" font-family="Monaco" font-size="11.00"> {</text>
<text xml:space="preserve" text-anchor="start" x="10" y="-284.55" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;NodeName(</text>
<text xml:space="preserve" text-anchor="start" x="124.75" y="-284.55" font-family="Monaco" font-size="11.00" fill="#0550ae">&amp;&#39;static str</text>
<text xml:space="preserve" text-anchor="start" x="205.75" y="-284.55" font-family="Monaco" font-size="11.00">),</text>
<text xml:space="preserve" text-anchor="start" x="10" y="-265.3" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;}</text>
<text xml:space="preserve" text-anchor="start" x="10" y="-248.05" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="37" y="-248.05" font-family="Monaco" font-size="11.00" fill="#cf222e">pub enum</text>
<text xml:space="preserve" text-anchor="start" x="91" y="-248.05" font-family="Monaco" font-size="11.00"> </text>
<text xml:space="preserve" text-anchor="start" x="97.75" y="-248.05" font-family="Monaco" font-size="11.00" fill="#0550ae">FieldAttribute</text>
<text xml:space="preserve" text-anchor="start" x="192.25" y="-248.05" font-family="Monaco" font-size="11.00"> {</text>
<text xml:space="preserve" text-anchor="start" x="10" y="-228.8" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;Child,</text>
<text xml:space="preserve" text-anchor="start" x="10" y="-210.55" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;Children,</text>
<text xml:space="preserve" text-anchor="start" x="10" y="-193.3" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;Property(</text>
<text xml:space="preserve" text-anchor="start" x="124.75" y="-193.3" font-family="Monaco" font-size="11.00" fill="#0550ae">&amp;&#39;static str</text>
<text xml:space="preserve" text-anchor="start" x="205.75" y="-193.3" font-family="Monaco" font-size="11.00">),</text>
<text xml:space="preserve" text-anchor="start" x="10" y="-174.05" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;Argument,</text>
<text xml:space="preserve" text-anchor="start" x="10" y="-155.8" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;Arguments,</text>
<text xml:space="preserve" text-anchor="start" x="10" y="-137.55" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;}</text>
<text xml:space="preserve" text-anchor="start" x="10" y="-119.3" font-family="Monaco" font-size="11.00">}</text>
</g>
<!-- make_parse -->
<g id="node2" class="node">
<title>make_parse</title>
<polygon fill="#e8e8f4" stroke="black" points="585.75,-281.75 383.5,-281.75 383.5,-219 585.75,-219 585.75,-281.75"/>
<polygon fill="#e8e8f4" stroke="none" points="391.5,-259.5 391.5,-277.75 577.75,-277.75 577.75,-259.5 391.5,-259.5"/>
<text xml:space="preserve" text-anchor="start" x="427.25" y="-266.3" font-family="Monaco, Consolas, Courier" font-weight="bold" font-size="11.00">facet&#45;macros&#45;impl</text>
<text xml:space="preserve" text-anchor="start" x="393.5" y="-248.05" font-family="Monaco" font-size="11.00">::facet::</text>
<text xml:space="preserve" text-anchor="start" x="454.25" y="-248.05" font-family="Monaco" font-size="11.00" fill="#8250df">__make_parse_attr!</text>
<text xml:space="preserve" text-anchor="start" x="423.88" y="-228.8" font-family="Monaco, Consolas, Courier" font-size="11.00">(grammar compiler)</text>
</g>
<!-- grammar&#45;&gt;make_parse -->
<g id="edge1" class="edge">
<title>grammar&#45;&gt;make_parse</title>
<path fill="none" stroke="#4169e1" stroke-width="2" d="M243.17,-250.38C284.16,-250.38 329.8,-250.38 370.2,-250.38"/>
<polygon fill="#4169e1" stroke="#4169e1" stroke-width="2" points="370.09,-253.88 380.09,-250.38 370.09,-246.88 370.09,-253.88"/>
<text xml:space="preserve" text-anchor="middle" x="313.12" y="-252.12" font-family="Helvetica,sans-Serif" font-size="10.00">compiles via</text>
</g>
<!-- generated -->
<g id="node3" class="node">
<title>generated</title>
<polygon fill="#f0fff0" stroke="black" points="1112.5,-500.75 714.5,-500.75 714.5,0 1112.5,0 1112.5,-500.75"/>
<polygon fill="#d4edda" stroke="none" points="722.5,-478.5 722.5,-496.75 1104.5,-496.75 1104.5,-478.5 722.5,-478.5"/>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-485.3" font-family="Monaco, Consolas, Courier" font-weight="bold" font-size="11.00">Generated in facet&#45;kdl</text>
<polygon fill="#e8f5e9" stroke="none" points="722.5,-460.25 722.5,-478.5 1104.5,-478.5 1104.5,-460.25 722.5,-460.25"/>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-467.05" font-family="Monaco, Consolas, Courier" font-weight="bold" font-size="11.00">1. Runtime types (in submodule)</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-448.8" font-family="Monaco" font-size="11.00" fill="#cf222e">pub mod</text>
<text xml:space="preserve" text-anchor="start" x="771.75" y="-448.8" font-family="Monaco" font-size="11.00"> </text>
<text xml:space="preserve" text-anchor="start" x="778.5" y="-448.8" font-family="Monaco" font-size="11.00" fill="#0550ae">attrs</text>
<text xml:space="preserve" text-anchor="start" x="812.25" y="-448.8" font-family="Monaco" font-size="11.00"> {</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-430.55" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="751.5" y="-430.55" font-family="Monaco" font-size="11.00" fill="#cf222e">pub enum</text>
<text xml:space="preserve" text-anchor="start" x="805.5" y="-430.55" font-family="Monaco" font-size="11.00"> </text>
<text xml:space="preserve" text-anchor="start" x="812.25" y="-430.55" font-family="Monaco" font-size="11.00" fill="#0550ae">ContainerAttribute</text>
<text xml:space="preserve" text-anchor="start" x="933.75" y="-430.55" font-family="Monaco" font-size="11.00"> { NodeName(</text>
<text xml:space="preserve" text-anchor="start" x="1014.75" y="-430.55" font-family="Monaco" font-size="11.00" fill="#0550ae">...</text>
<text xml:space="preserve" text-anchor="start" x="1035" y="-430.55" font-family="Monaco" font-size="11.00">) }</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-412.3" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="751.5" y="-412.3" font-family="Monaco" font-size="11.00" fill="#cf222e">pub enum</text>
<text xml:space="preserve" text-anchor="start" x="805.5" y="-412.3" font-family="Monaco" font-size="11.00"> </text>
<text xml:space="preserve" text-anchor="start" x="812.25" y="-412.3" font-family="Monaco" font-size="11.00" fill="#0550ae">FieldAttribute</text>
<text xml:space="preserve" text-anchor="start" x="906.75" y="-412.3" font-family="Monaco" font-size="11.00"> { Child, Children, ... }</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-393.05" font-family="Monaco" font-size="11.00">}</text>
<polygon fill="#fff3cd" stroke="none" points="722.5,-369 722.5,-387.25 1104.5,-387.25 1104.5,-369 722.5,-369"/>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-375.8" font-family="Monaco, Consolas, Courier" font-weight="bold" font-size="11.00">2. TWO COMPILED GRAMMARS</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-357.55" font-family="Monaco" font-size="11.00" fill="#cf222e">macro_rules!</text>
<text xml:space="preserve" text-anchor="start" x="805.5" y="-357.55" font-family="Monaco" font-size="11.00"> </text>
<text xml:space="preserve" text-anchor="start" x="812.25" y="-357.55" font-family="Monaco" font-size="11.00" fill="#8250df">__parse_container_attr</text>
<text xml:space="preserve" text-anchor="start" x="960.75" y="-357.55" font-family="Monaco" font-size="11.00"> {</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-339.3" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;(</text>
<text xml:space="preserve" text-anchor="start" x="758.25" y="-339.3" font-family="Monaco" font-size="11.00" fill="#953800">$name</text>
<text xml:space="preserve" text-anchor="start" x="792" y="-339.3" font-family="Monaco" font-size="11.00">:ident $(</text>
<text xml:space="preserve" text-anchor="start" x="852.75" y="-339.3" font-family="Monaco" font-size="11.00" fill="#953800">$rest</text>
<text xml:space="preserve" text-anchor="start" x="886.5" y="-339.3" font-family="Monaco" font-size="11.00">:tt)*) =&gt; {</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-321.05" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;::facet::</text>
<text xml:space="preserve" text-anchor="start" x="839.25" y="-321.05" font-family="Monaco" font-size="11.00" fill="#8250df">__dispatch_attr!</text>
<text xml:space="preserve" text-anchor="start" x="947.25" y="-321.05" font-family="Monaco" font-size="11.00"> {</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-302.8" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="805.5" y="-302.8" font-family="Monaco" font-size="11.00" fill="#8250df">@ns</text>
<text xml:space="preserve" text-anchor="start" x="825.75" y="-302.8" font-family="Monaco" font-size="11.00"> { </text>
<text xml:space="preserve" text-anchor="start" x="846" y="-302.8" font-family="Monaco" font-size="11.00" fill="#0a3069">&quot;kdl&quot;</text>
<text xml:space="preserve" text-anchor="start" x="879.75" y="-302.8" font-family="Monaco" font-size="11.00"> }</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-284.55" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="805.5" y="-284.55" font-family="Monaco" font-size="11.00" fill="#8250df">@variants</text>
<text xml:space="preserve" text-anchor="start" x="866.25" y="-284.55" font-family="Monaco" font-size="11.00"> { node_name: newtype, ... }</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-265.3" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;...</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-247.05" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-228.8" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;};</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-210.55" font-family="Monaco" font-size="11.00">}</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-193.3" font-family="Monaco" font-size="11.00" fill="#cf222e">macro_rules!</text>
<text xml:space="preserve" text-anchor="start" x="805.5" y="-193.3" font-family="Monaco" font-size="11.00"> </text>
<text xml:space="preserve" text-anchor="start" x="812.25" y="-193.3" font-family="Monaco" font-size="11.00" fill="#8250df">__parse_field_attr</text>
<text xml:space="preserve" text-anchor="start" x="933.75" y="-193.3" font-family="Monaco" font-size="11.00"> {</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-175.05" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;(</text>
<text xml:space="preserve" text-anchor="start" x="758.25" y="-175.05" font-family="Monaco" font-size="11.00" fill="#953800">$name</text>
<text xml:space="preserve" text-anchor="start" x="792" y="-175.05" font-family="Monaco" font-size="11.00">:ident $(</text>
<text xml:space="preserve" text-anchor="start" x="852.75" y="-175.05" font-family="Monaco" font-size="11.00" fill="#953800">$rest</text>
<text xml:space="preserve" text-anchor="start" x="886.5" y="-175.05" font-family="Monaco" font-size="11.00">:tt)*) =&gt; {</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-156.8" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;::facet::</text>
<text xml:space="preserve" text-anchor="start" x="839.25" y="-156.8" font-family="Monaco" font-size="11.00" fill="#8250df">__dispatch_attr!</text>
<text xml:space="preserve" text-anchor="start" x="947.25" y="-156.8" font-family="Monaco" font-size="11.00"> {</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-138.55" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="805.5" y="-138.55" font-family="Monaco" font-size="11.00" fill="#8250df">@ns</text>
<text xml:space="preserve" text-anchor="start" x="825.75" y="-138.55" font-family="Monaco" font-size="11.00"> { </text>
<text xml:space="preserve" text-anchor="start" x="846" y="-138.55" font-family="Monaco" font-size="11.00" fill="#0a3069">&quot;kdl&quot;</text>
<text xml:space="preserve" text-anchor="start" x="879.75" y="-138.55" font-family="Monaco" font-size="11.00"> }</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-120.3" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="805.5" y="-120.3" font-family="Monaco" font-size="11.00" fill="#8250df">@variants</text>
<text xml:space="preserve" text-anchor="start" x="866.25" y="-120.3" font-family="Monaco" font-size="11.00"> { child, children, property, ... }</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-101.05" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;...</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-82.8" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-64.55" font-family="Monaco" font-size="11.00"> &#160;&#160;&#160;};</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-46.3" font-family="Monaco" font-size="11.00">}</text>
<polygon fill="#e8f5e9" stroke="none" points="722.5,-22.25 722.5,-40.5 1104.5,-40.5 1104.5,-22.25 722.5,-22.25"/>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-29.05" font-family="Monaco, Consolas, Courier" font-weight="bold" font-size="11.00">3. Re&#45;exports (macro hygiene)</text>
<text xml:space="preserve" text-anchor="start" x="724.5" y="-10.8" font-family="Monaco" font-size="11.00" fill="#cf222e">pub use</text>
<text xml:space="preserve" text-anchor="start" x="771.75" y="-10.8" font-family="Monaco" font-size="11.00"> ::facet::{</text>
<text xml:space="preserve" text-anchor="start" x="846" y="-10.8" font-family="Monaco" font-size="11.00" fill="#8250df">__dispatch_attr</text>
<text xml:space="preserve" text-anchor="start" x="947.25" y="-10.8" font-family="Monaco" font-size="11.00">, </text>
<text xml:space="preserve" text-anchor="start" x="960.75" y="-10.8" font-family="Monaco" font-size="11.00" fill="#8250df">__attr_error</text>
<text xml:space="preserve" text-anchor="start" x="1041.75" y="-10.8" font-family="Monaco" font-size="11.00">, ...};</text>
</g>
<!-- make_parse&#45;&gt;generated -->
<g id="edge2" class="edge">
<title>make_parse&#45;&gt;generated</title>
<path fill="none" stroke="#228b22" stroke-width="2" d="M586.25,-250.38C621.02,-250.38 661.4,-250.38 701.65,-250.38"/>
<polygon fill="#228b22" stroke="#228b22" stroke-width="2" points="701.4,-253.88 711.4,-250.38 701.4,-246.88 701.4,-253.88"/>
<text xml:space="preserve" text-anchor="middle" x="650.12" y="-252.12" font-family="Helvetica,sans-Serif" font-size="10.00">generates</text>
</g>
</g>
</svg>
